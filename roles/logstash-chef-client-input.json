{
  "name": "logstash-chef-client-input",
  "description": "Input handler for chef-client logging data.",
  "json_class": "Chef::Role",
  "default_attributes": {
    "logstash": {                                                                                                                                                                   
      "inputs": {
        "chef-client": {
          "port": 5671,
          "query": {
            "role": "logstash_elasticsearch_master",
            "tags": "chef-client",
            "chef_environment": "prod"
          },
          "filters": {
            "grok": {
              "type": "chef-client",
              "pattern": "%{HOSTNAME:chef_hostname}: \\[%{DATA:chef_time}\\] %{LOGLEVEL:chef_log_lvl}: %{GREEDYDATA:chef_msg}"
            },
            "grep": {
              "type": "chef-client",
              "tags": [ "_grokparsefailure" ],
              "negate": true
            }
          }
        }
      }
    }
  },
  "override_attributes": {
  },
  "chef_type": "role",
  "run_list": [
    "role[pan]",
    "role[crust]",
    "role[filling]",
    "recipe[logstash::server]",
    "recipe[log_pie::custom_input]",
    "role[topping]"
  ],
  "env_run_lists": {
  }
}
